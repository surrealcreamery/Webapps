import{useMemo as d,useState as m,useEffect as w,useCallback as b}from"react";function g(o,t){let[n,i]=m(!1),r=f(o),s=b(()=>{let e=window.innerHeight,c=Math.round(window.scrollY),a=document.body.offsetHeight,u=Math.round(c/(a-e)*100);if(r.type==="percentage")i(u>=r.value);else{let p=a-e-c;i(r.value>=p)}},[r.type,r.value]),l=d(()=>{let e;return()=>{clearTimeout(e),e=setTimeout(s,100)}},[s]);return w(()=>{let e=t?l:s;return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[l,s,t]),{isVisible:n,onBackToTop:()=>{window.scrollTo({top:0,behavior:"smooth"})},setIsVisible:i}}function f(o){let t,n;if(typeof o=="string")if(o.endsWith("%")){if(t=Number(o.slice(0,-1)),isNaN(t))throw new Error("Invalid percentage value");n="percentage"}else throw new Error("String input must end with %");else t=o,n="number";return{value:t,type:n}}export{g as useBackToTop};
